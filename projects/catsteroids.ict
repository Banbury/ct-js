{"notes":"/* empty */","libs":{"place":{},"akatemplate":{"csscss":"canvas {\n  margin: 2rem auto;\n}\nbody {\n  background: black;\n}"},"random":{},"keyboard":{}},"graphs":[{"name":"PlayerShip_Blue","untill":0,"grid":[1,1],"axis":[56,37],"origname":"i1.png","shape":"rect","left":48,"top":10,"frames":1,"width":112,"height":75,"marginx":0,"marginy":0,"offy":0,"offx":0,"right":48,"bottom":34,"r":20},{"name":"Background_Blue","untill":0,"grid":[1,1],"axis":[0,0],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i2.png","shape":"circle","left":0,"right":256,"top":0,"bottom":256,"frames":1,"width":256,"height":256,"r":1},{"name":"Laser_Simple_Blue","untill":0,"grid":[1,1],"axis":[4,27],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i3.png","shape":"rect","left":4,"right":5,"top":27,"bottom":27,"frames":1,"width":9,"height":54,"lastmod":1508500558054},{"name":"Laser_X_Blue","untill":0,"grid":[1,1],"axis":[19,18],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i4.png","shape":"circle","left":19,"right":19,"top":18,"bottom":19,"frames":1,"width":38,"height":37,"r":21},{"name":"Laser_Bolt_Blue","untill":0,"grid":[1,1],"axis":[6,28],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i5.png","shape":"rect","left":6,"right":7,"top":28,"bottom":29,"frames":1,"width":13,"height":57,"lastmod":1508497007651},{"name":"Meteor_Small_1","untill":0,"grid":[1,1],"axis":[14,14],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i10.png","shape":"circle","left":0,"right":28,"top":0,"bottom":28,"frames":1,"width":28,"height":28,"r":13,"lastmod":1508497578339},{"name":"Meteor_Small_2","untill":0,"grid":[1,1],"axis":[14,13],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i11.png","shape":"circle","left":0,"right":29,"top":0,"bottom":26,"frames":1,"width":29,"height":26,"r":13,"lastmod":1508497573411},{"name":"Meteor_Medium_1","untill":0,"grid":[1,1],"axis":[22,21],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i12.png","shape":"circle","left":0,"right":45,"top":0,"bottom":40,"frames":1,"width":43,"height":43,"r":21,"lastmod":1508497609983},{"name":"Meteor_Medium_2","untill":0,"grid":[1,1],"axis":[22,20],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i13.png","shape":"circle","left":0,"right":45,"top":0,"bottom":40,"frames":1,"width":45,"height":40,"r":20,"lastmod":1508497627007},{"name":"Meteor_Big_1","untill":0,"grid":[1,1],"axis":[44,42],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i14.png","shape":"circle","left":0,"right":0,"top":0,"bottom":0,"frames":1,"width":89,"height":82,"r":40,"lastmod":1508497681131},{"name":"Meteor_Big_2","untill":0,"grid":[1,1],"axis":[49,50],"marginx":0,"marginy":0,"offx":0,"offy":0,"origname":"i15.png","shape":"circle","left":0,"right":98,"top":0,"bottom":96,"frames":1,"width":98,"height":96,"r":46,"lastmod":1508497704244}],"types":[{"name":"Player_Blue","depth":0,"oncreate":"this.friction = 0.5;\nthis.flyspeed = 5;\nthis.maxspeed = 15;\n\nthis.shootTimer = 0;","onstep":"/* Movement */\n\nif (ct.keyboard.down['down']) {\n    ct.types.addSpeed(this, this.flyspeed, 270);\n}\nif (ct.keyboard.down['up']) {\n    ct.types.addSpeed(this, this.flyspeed, 90);\n}\nif (ct.keyboard.down['left']) {\n    ct.types.addSpeed(this, this.flyspeed, 180);\n}\nif (ct.keyboard.down['right']) {\n    ct.types.addSpeed(this, this.flyspeed, 0);\n}\nthis.spd = Math.max(Math.min(this.spd, this.spd - this.friction, this.maxspeed), 0);\nct.types.move(this);\n\nif (this.x < 0 || this.x > ct.room.width ||\n    this.y < 0 || this.y > ct.room.height) {\n    this.spd = 0;\n    this.x = Math.max(Math.min(this.x, ct.room.width), 0);\n    this.y = Math.max(Math.min(this.y, ct.room.height), 0);\n}\n\n/* Shooting */\n\nthis.shootTimer++;\nif (ct.keyboard.down['space'] && this.shootTimer > ct.speed * 0.25) {\n    ct.types.copy('Laser_Simple_Blue', this.x, this.y);\n    ct.sound.spawn('Laser_Small');\n    this.shootTimer = 0;\n}","ondraw":"ct.draw(this);","ondestroy":"","uid":1,"graph":"i1.png"},{"name":"Laser_Simple_Blue","depth":-1,"oncreate":"this.spd = 30;\nthis.dir = 90;\nthis.ctype = 'BulletsHeroes';","onstep":"if (this.y < -48) {\n    this.kill = true;\n}\n\nct.types.move(this);","ondraw":"ct.draw(this);","ondestroy":"","uid":2,"graph":"i3.png"},{"name":"AbstractMeteor","depth":1,"oncreate":"this.spd = ct.random.range(1, 3);\nthis.dir = 270 + ct.random.range(-3, 3);\n\nthis.graph = 'Meteor_' + ct.random.dice('Big', 'Medium', 'Small') + '_' + ct.random.dice(1, 2);\n\nthis.transform = true;\nthis.rotateSpeed = ct.random.range(-1, 1);\nthis.tr = ct.random.deg();\n\nthis.ctype = 'Enemy';","onstep":"ct.types.move(this);\n\nthis.tr += this.rotateSpeed; \n\nvar obstacle = ct.place.occupied(this, this.x, this.y, 'BulletsHeroes');\nif (obstacle) {\n    this.kill = true;\n    obstacle.kill = true;\n    \n    // Add some score points\n    ct.rooms.current.score += 5;\n}\n\nif (this.x < -100 || this.x > ct.room.width + 100 || this.y < -120 || this.y > ct.room.height + 100) {\n    this.kill = true;\n}","ondraw":"ct.draw(this);","ondestroy":"var deathMap = {\n    'Big': 'Medium',\n    'Medium': 'Small'\n};\n\nfor (var i in deathMap) {\n    if (this.graph.indexOf(i) !== -1) {\n        var copy1 = ct.types.copy('AbstractMeteor', this.x, this.y);\n        copy1.graph = 'Meteor_' + deathMap[i] + '_' + ct.random.dice(1, 2);\n        copy1.dir = ct.random.deg();\n        \n        var copy2 = ct.types.copy('AbstractMeteor', this.x, this.y);\n        copy2.graph = 'Meteor_' + deathMap[i] + '_' + ct.random.dice(1, 2);\n        copy2.dir = 180 + copy1.dir + ct.random.range(-10, 10);\n    }\n}","uid":3,"graph":"i15.png"},{"name":"Laser_X_Blue","depth":-1,"oncreate":"\nthis.ctype = 'BulletsHeroes';","onstep":"ct.types.move(this);","ondraw":"ct.draw(this);","ondestroy":"","uid":4,"graph":"i4.png"},{"name":"GameController","depth":0,"oncreate":"this.asteroidTimer = ct.speed * 3;","onstep":"this.asteroidTimer --;\n\nif (this.asteroidTimer <= 0) {\n    this.asteroidTimer = ct.random.range(ct.speed * 0.5, ct.speed * 3);\n    ct.types.copy('AbstractMeteor', ct.random(ct.room.width), -100);\n}","ondraw":"ct.draw(this);","ondestroy":"","uid":5,"graph":-1}],"sounds":[{"name":"Laser_Small","uid":0,"origname":"s0.mp3","lastmod":1508402385413},{"name":"Laser_Medium","uid":1,"origname":"s1.mp3","lastmod":1508402408072},{"name":"Laser_Big","uid":2,"origname":"s2.mp3","lastmod":1508402430765}],"styles":[{"name":"ScoreText","fill":{"type":"1","gradsize":28,"color1":"#7DFFF8","color2":"#0044FF","gradtype":"1"},"font":{"family":"sans-serif","size":24,"weight":"900","italic":true,"valign":"top","halign":"left"},"uid":1,"origname":"s1","stroke":{"color":"#4583FF","weight":1},"shadow":{"color":"rgba(128,212,255,0.57)","x":-2,"y":4,"blur":8}}],"rooms":[{"name":"inGame","oncreate":"this.score = 0;","onstep":"console.log('oh hi');","ondraw":"ct.styles.set('ScoreText');\nct.x.save();\n\nct.x.translate(20, 20);\nct.draw.text('Score: ' + this.score, 0, 0);\nct.draw.text('Score: ' + this.score, 0, 0, true);\n\nct.x.restore();\nct.styles.reset();","onleave":"","width":800,"height":800,"backgrounds":[{"depth":"-20","graph":"i2.png"}],"layers":[{"depth":0,"copies":[{"x":400,"y":700,"uid":1},{"x":400,"y":250,"uid":5}]}],"uid":1,"lastmod":1521550595427,"grid":50}],"graphtick":15,"soundtick":4,"roomtick":1,"typetick":5,"styletick":1,"starting":0,"settings":{"minifyhtmlcss":false,"minifyjs":false,"title":"Catsteroids","author":"CoMiGo Games","site":"http://comigogames.ru/"},"palette":["#FFFFFF","#B48FFF","#10102E"],"startroom":1}
